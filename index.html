<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Atelier Electronique Médenine</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      margin: 0;
      padding: 0;
      direction: rtl;
    }

    #news-ticker {
      background-color: #222;
      color: #fff;
      padding: 10px;
      font-size: 1rem;
      white-space: nowrap;
      overflow: hidden;
    }

    #live-news {
      display: inline-block;
      animation: ticker 30s linear infinite;
    }

    @keyframes ticker {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }

    .cta-buttons {
      text-align: center;
      margin: 20px;
    }

    #radio-btn {
      background-color: #007BFF;
      border: none;
      padding: 15px 25px;
      color: white;
      font-size: 1.2rem;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
      transition: background 0.3s ease;
    }

    #radio-btn:hover {
      background-color: #0056b3;
    }

    .info-bar {
      display: flex;
      justify-content: space-between;
      background-color: #eee;
      padding: 10px 20px;
    }

    .faq {
      margin: 30px;
      background: white;
      padding: 20px;
      border-radius: 10px;
    }

    .faq h2 {
      margin-bottom: 20px;
    }

    .faq-item {
      cursor: pointer;
      margin-bottom: 10px;
    }

    .faq-item h3 {
      margin: 0;
      background: #007BFF;
      color: white;
      padding: 10px;
      border-radius: 6px;
    }

    .faq-item .answer {
      display: none;
      padding: 10px;
      background: #f9f9f9;
      border-radius: 6px;
      border: 1px solid #ddd;
    }

    .faq-item.open .answer {
      display: block;
    }

    footer {
      text-align: center;
      padding: 15px;
      background-color: #222;
      color: white;
    }

    /* الموجة الصوتية */
    .equalizer {
      display: flex;
      justify-content: center;
      align-items: flex-end;
      height: 40px;
      margin-top: 10px;
      gap: 3px;
    }

    .bar {
      width: 5px;
      height: 10px;
      background: #007BFF;
      animation: pulse 1s infinite;
    }

    .bar:nth-child(2) { animation-delay: 0.2s; }
    .bar:nth-child(3) { animation-delay: 0.4s; }
    .bar:nth-child(4) { animation-delay: 0.6s; }
    .bar:nth-child(5) { animation-delay: 0.8s; }

    @keyframes pulse {
      0%, 100% { height: 10px; }
      50% { height: 30px; }
    }

    .equalizer.hidden {
      display: none;
    }
  </style>
</head>
<body>

  <div id="news-ticker">
    <span id="live-news">🔄 تحميل الأخبار...</span>
  </div>

  <div class="cta-buttons">
    <button id="radio-btn">🎧 إستمع للراديو</button>
    <div class="equalizer hidden" id="equalizer">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
    </div>
  </div>

  <div class="info-bar">
    <span id="current-time">⏰</span>
    <button id="toggle-lang-btn">🇫🇷 Français</button>
  </div>

  <div class="faq">
    <h2>❓ الأسئلة الشائعة</h2>
    <div class="faq-item">
      <h3>ما هو موقع الورشة؟</h3>
      <div class="answer">نحن في مدينة مدنين، تونس.</div>
    </div>
    <div class="faq-item">
      <h3>ما الخدمات التي تقدمونها؟</h3>
      <div class="answer">صيانة إلكترونية، برمجة متقدمة، وتركيب أنظمة مراقبة.</div>
    </div>
  </div>

  <footer>
    <p>© 2025 Atelier Electronique Médenine</p>
  </footer>

  <script>
    <script>
  // الراديو - تشغيل تلقائي
  const radio = new Audio("https://stream-51.zeno.fm/2b75b60fqrhvv?zs=RxGAeKBoRuKCqT5dzZoCaw");
  const equalizer = document.getElementById("equalizer");
  const radioBtn = document.getElementById("radio-btn");

  let radioPlaying = false;

  function playRadioAuto() {
    radio
      .play()
      .then(() => {
        radioPlaying = true;
        radioBtn.textContent = "⏸️ إيقاف الراديو";
        equalizer.classList.remove("hidden");
      })
      .catch(() => {
        // ممنوع التشغيل التلقائي، ننتظر الضغط اليدوي
      });
  }

  window.addEventListener("load", playRadioAuto);

  radioBtn.addEventListener("click", function () {
    if (radioPlaying) {
      radio.pause();
      this.textContent = "🎧 إستمع للراديو";
      equalizer.classList.add("hidden");
    } else {
      radio.play();
      this.textContent = "⏸️ إيقاف الراديو";
      equalizer.classList.remove("hidden");
    }
    radioPlaying = !radioPlaying;
  });

  // الأخبار - الجزيرة مباشر
  async function fetchNews() {
    try {
      const response = await fetch('https://api.rss2json.com/v1/api.json?rss_url=https://www.aljazeera.net/aljazeerarss');
      const data = await response.json();
      const articles = data.items.slice(0, 5);
      const newsText = articles.map(item => item.title).join(" 🔸 ");
      document.getElementById('live-news').textContent = newsText;
    } catch (error) {
      document.getElementById('live-news').textContent = "⚠️ فشل تحميل الأخبار";
    }
  }

  fetchNews();
  setInterval(fetchNews, 600000); // كل 10 دقائق

  // الوقت
  function updateTime() {
    const now = new Date();
    const timeString = now.toLocaleTimeString('ar-TN', {
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit'
    });
    document.getElementById("current-time").textContent = "⏰ " + timeString;
  }

  setInterval(updateTime, 1000);
  updateTime();

  // FAQ
  document.querySelectorAll(".faq-item").forEach(item => {
    item.addEventListener("click", () => item.classList.toggle("open"));
  });

  // تغيير اللغة
  document.getElementById("toggle-lang-btn").addEventListener("click", function () {
    const lang = document.documentElement.lang;
    if (lang === "ar") {
      document.documentElement.lang = "fr";
      document.documentElement.dir = "ltr";
      this.textContent = "🇸🇦 العربية";
    } else {
      document.documentElement.lang = "ar";
      document.documentElement.dir = "rtl";
      this.textContent = "🇫🇷 Français";
    }
  });
</script>
